<%- include('header.ejs') %>

    <link rel="stylesheet" type="text/css" href="/navbar/css/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    <script defer src="/home/js/weather.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js"></script>
    
</head>
<body>
    <%- include('navbar.ejs') %> 
    <script>
      window.onload = function() {
        var getId1 = document.getElementById('myCanvas');
        var getIdContext1  = getId1.getContext('2d');
  
        getIdContext1.fillStyle = 'blue';
        getIdContext1.fillRect(0,0,150,40);   
        getIdContext1.fillStyle = 'yellow';
        getIdContext1.fillRect(0,40,150,40);   
      
};
        </script>
    <div 
        class="bg-image"
        style="
        background-image:  url('/background/background.jpg');
        height: 300vh;
        "

   >
    
   <div id="container">
   <div class="align-items-center ">

    <div class="jumbotron" style="bg-color: blue">
        <div class="row">
        <div class="col-xs-12">
        <div style = "text-align:center;">
        <canvas class="text-md-center" id="myCanvas" width="150px" height="75px" style="border:1px solid #000000;"></canvas>
        </div>
        <h1 class="text-center">Welcome to the Home page, <%=username%> :) </h1>
        <h5 class="text-center" id="city"></h5>
        <h5 id="temperature" class="text-center"></h5>
        </div>
        </div>
        </div>
        </div>
    

        <h2 class="display-3 text-md-center">Genre</h2>

            <div class="row mb-3 text-center">
                <% genres.forEach((genre) =>{ %>
                <div class="col-md-4">
                <div 
                    class="card mb-4 shadow-sm"
                    style="max-width: 12rem;
                        max-height: 16rem;

                        ">
            
                <img src="<%=genre.url%>" class="card-img-top" style="min-height: 10rem; max-height: 10 rem;">
                <div class="banner-content text-center" style="overflow:hidden;"><h5 class="text-center">Books: <%=genresCount[genre._id]%></h5></div>
         
                        <div class="card-body text-black">
                            <h1 class="card-title"><%=genre._id%></h1>
                            
                            <a href="/genre/<%=genre._id%>" class="btn btn-primary">Genre Page</a>
                        </div>

                
                </div>
            </div>
                <% }); %>
            </div>


        <hr class="hr hr-blurry" />

    
        <h2 class="display-3 text-md-center">Popular Books</h2>
        <div class="row mb-3 text-center">

            <% popularBooks.forEach((book) =>{ %>
                <div class="col-md-4">
                    <div 
                    class="card mb-4 shadow-sm"
                    style="max-width: 12rem;
                    max-height: 16rem;">
                    <img src="<%=book.cover%>" class="card-img-top" style="min-height: 10rem; max-height: 10 rem;">
                    <div class="card-body text-black">
                        <h1 class="card-title"><%=book._id%></h1>
                        <a href="/book/<%=book._id%>" class="btn btn-primary">Book Page</a>
                        
                    </div>

                    
                    </div>
                    </div>
            <% }); %>
            </div>
        <hr class="hr hr-blurry" />

        <h2 class="display-3 text-md-center">Popular Authors</h2>
        <div class="row mb-3 text-center">
            <% authors.forEach((author) =>{ %>
                <div class="col-md-4">
                    <div 
                    class="card mb-4 shadow-sm"
                    style="max-width: 12rem;
                    max-height: 16rem;">
                    <img src="<%=author.picture%>" class="card-img-top" style="min-height: 10rem; max-height: 10 rem;">

                        <div class="card-body text-black">
                            <h1 class="card-title"><%=author._id%></h1>
                            <a href="/author/<%=author._id%>" class="btn btn-primary">Author Page</a>
                        </div>

            
                    </div>
                    </div>
            <% }); %>
            </div>
            <video style="margin-left: 30% ;" width="320" height="240" controls>
                <source src="/general/bookVideo.mp4" type="video/mp4">
            </video>
        </div>
    </div>  
        <aside>
            <div><a href="/cart">Shopping Cart</a></div>
        </aside>
    </div>

  
<%- include('footer.ejs') %>

